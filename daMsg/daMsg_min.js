/*
	author:	danny.xu
	date:	2011-5-11 14:03:40
	description:	daMsg类( 操作状态提示框 )
*/
(function(d,e){var f=d.document;var g=(function(){var c=function(a){return new c.fnStruct.init(a)};c.fnStruct=c.prototype={version:"daMsg 1.0 \n\nauthor: danny.xu\n\ndate: 2011-5-11 14:06:15\n\n Thanks!",daPtId:0,daPtObj:null,daPtParentObj:null,daPtTbObj:null,daPtMidObj:null,daPtCloseBtObj:null,daPtSetting:{parent:null,color:"#343434,#f7f7f7",delay:2000,html:"",css:{daMsg:"daMsg",tb:"daMsgTb",mid:"daMsgMid",closeBt:"closeBt"}},timerForDestroy:null,init:function(a){if(!da.isPlainObj(a))a={html:a};this.daPtSetting=a=da.extend(true,{},this.daPtSetting,a);this.daPtParentObj=a.parent||f.body;this.isFx=!!da.fnStruct.act;while(null!=f.getElementById(this.daPtId))this.daPtId++;this.create()},create:function(){var a=this.daPtSetting,daPtObj=f.createElement("div");daPtObj.id="daMsg_"+this.daPtId;daPtObj.className=a.css.daMsg;daPtObj.innerHTML=['<table id="daPtTb_',this.daPtId,'" class="daMsgTb" cellpadding="0" cellspacing="0">','<tr>','<td id="daPtMid_',this.daPtId,'" class="daMsgMid" >',a.html,'</td>','<td class="daMsgMid_right">','<a id="daPtCloseBt_',this.daPtId,'" class="closeBt" href="javascript:void(0)"></a>','</td>','</tr>','</table>'].join("");this.daPtObj=daPtObj;this.daPtParentObj.insertBefore(daPtObj,null);this.daPtObj.style.left=(da(d).width()-da(this.daPtObj).width())/2+"px";this.daPtTbObj=f.getElementById("daPtTb_"+this.daPtId);this.daPtMidObj=f.getElementById("daPtMid_"+this.daPtId);this.daPtCloseBtObj=f.getElementById("daPtCloseBt_"+this.daPtId);this.bindEvent();this.show()},bindEvent:function(){var a=this;da(this.daPtCloseBtObj).bind("click",function(){if(a.isFx){da(a.daPtObj).clearQueue()}a.destroy()});da(this.daPtTbObj).bind("mouseover",function(){if(a.isFx){da(a.daPtObj).clearQueue()}}).bind("mouseout",function(){a.destroy(a.daPtSetting.delay)})},show:function(){var a=this,h=da(this.daPtObj).height();this.daPtObj.style.display="block";if(this.isFx){da(this.daPtObj).css({top:-50,opacity:0});da(this.daPtObj).act({top:10+c.height,opacity:1},{duration:500,complete:function(){a.destroy(a.daPtSetting.delay)}});c.height=c.height+h+5}else{da(this.daPtObj).css({top:0,opacity:1});a.destroy(a.daPtSetting.delay)}},destroy:function(a){var b=this,h=da(this.daPtObj).height();if(this.isFx){if(a){da(this.daPtObj).delay(a)}da(this.daPtObj).act({top:-50,opacity:0},{duration:500,complete:function(){if(!b.daPtObj)return;b.daPtParentObj.removeChild(this);b.daPtObj=null;c.height=c.height-(h+5)}})}else{if(a){if(this.timerForDestroy)clearTimeout(this.timerForDestroy);this.timerForDestroy=setTimeout(function(){if(!b.daPtObj)return;b.daPtParentObj.removeChild(b.daPtObj);b.daPtObj=null},a)}else{if(!this.daPtObj)return;this.daPtParentObj.removeChild(this.daPtObj);this.daPtObj=null}}}};c.height=0;c.fnStruct.init.prototype=c.prototype;return c})();d.daMsg=g})(window);var alert2=window.alert;window.alert=function(a){daMsg(a)};