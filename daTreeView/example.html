<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<link href="daTree.css" rel="stylesheet" />
		<script src="js/da.js" langruage="javascript"></script>
		<script src="js/daTreeCore_source.js" langruage="javascript"></script>
		<script src="daTreeView_source.js" langruage="javascript"></script>
		
		<script>
				var dt;
				
				da(function(){

					dt = daTreeView({
						id: "0", 
						parent: "#mydatree",
						name: "自定义树", 
						list: nodeList,
						event: {
							click: function( node, nodeObj ){
								//alert(" 节点id: "+ node.id );debugger;
								
//								daTip({
//									target: nodeObj,
//									pointer: "47"
//								});
							},
							
							over: function( node, nodeObj ){

							},
							
							out: function( node, nodeObj ){

							}
						}
					});
					
					
					var nodeList = [], pid, nid;
					
					for( var i=0; i<20; i++ ){
						nid = "node" + i;
						pid = "0";
						nodeList.push({ pid: pid, id: nid, name: "<span style='color:#f33;'>第一级节点</span>", data:null });
						
						for( var ii=0; ii<20; ii++ ){
								nid = "node" + i + ii;
								pid = "node"+i;
								nodeList.push({ pid: pid, id: "node"+(i + "" + ii), name:"第二级" + nid, data:null });
								
								for( var iii=0; iii<20; iii++ ){
										nid = "node"+ i + ii + iii;
										pid = "node" + i + ii;
										nodeList.push({ pid: pid, id: nid, name: "最后一级节点", data:null });
								}
								
						}
						
					}
					
					// dt.expandAll(function(){
						//alert("展开完毕");
					// });

					dt.expandLevel(1, function(){
//						da.copy( this.treeObj.outerHTML );
						
					});
					
					
					
				});
				
		</script>
		
	</head>
	
	
	<body>
		<div id="mydatree" style="height:500px;width:200px;border:1px solid #f0f0f0;overflow:auto;"></div>
		<input type="button" value="source" onclick="da.copy( dt.treeObj.outerHTML);" />
	</body>

</html>