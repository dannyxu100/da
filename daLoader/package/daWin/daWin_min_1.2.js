(function(o){var p=o.document;o.dwArrCache=[];o.dwDockCache=[];self.dwOpenList=[];var q=(function(){var m=function(a){return new m.fnStruct.init(a)};m.fnStruct=m.prototype={version:"daWin 1.0  \n\nauthor: danny.xu\n\ndate: 2010-10-30\n\nThank you!!!",dwParent:null,dwId:0,dwPad:null,dwBody:null,dwTHead:null,dwTBody:null,dwTFoot:null,dwCaption:null,dwCnt:null,dwCntBox:null,dwIframe:null,dwDialog:null,dwDlgBts:null,daFrameObj:null,insideWinObj:null,dwStatus:null,dwLoadover:null,dwBts:null,dwStatusBts:null,dwBorder:null,dwSize:null,dwCssSize:{t_h:34,cap_w:80,bts_w:60,l_w:10,l2_w:16,r_w:9,r2_w:16,b_h:32,win_w:191,win_h:66,dialog_padding:20},setting:{width:0,height:0,url:"",title:"温馨提示",html:"",status:null,backclose:true,rootwin:true,modal:false,place:null,act:true,time:200,easing:"easeOutQuad",css:{daDivPad:"daWin"},type:"info",before:null,load:null,after:null,back:null,yes:null,no:null,button:null},sizeMode:"normal",isLoading:true,isActiving:true,isDialog:true,dwDefzIndex:10000,dwActzIndex:19999,init:function(a){a=this.setting=da.extend(true,{},this.setting,a);var b=document.getElementsByTagName("input")||document.getElementsByTagName("textarea");if(b&&0<b.length){for(var i=0,len=b.length;i<len;i++){if("hidden"!==b[i].type&&"checkbox"!==b[i].type&&"button"!==b[i].type&&"radio"!==b[i].type&&!b[i].disabled&&"disabled"!==b[i].disabled){this.focusElement=b[i];break}}}b=null;if(a.rootwin){o=da.getRootWin();p=o.document;o.dwArrCache=o.dwArrCache||[];o.dwDockCache=o.dwDockCache||[]}this.dwParent=p.body;this.dwSize={w:0,h:0,top:null,left:null,right:null,bottom:null};this.dwSize.w=this.parseSize(a.width);this.dwSize.h=this.parseSize(a.height);while(null!==p.getElementById("daWin_"+this.dwId))this.dwId++;this.dwBts={btmin:null,btmax:null,btclose:null};this.dwStatusBts={btfresh:null};this.dwBorder={tl:null,tl2:null,t:null,tr2:null,tr:null,l:null,r:null,bl:null,bl2:null,b:null,br2:null,br:null};this.isDialog=(""===a.url)?true:false;if(!a.modal)a.modal=this.isDialog;a.act=daFx&&a.act;a.place=a.place||{left:(da(o).width()-this.dwCssSize.win_w)/2,top:(da(o).height()-this.dwCssSize.win_h)/2};this.dwDlgBts=[];this.create(a);return this},create:function(c){var d=this.dwId,objPad=p.createElement("div");objPad.className=c.css.daDivPad;objPad.id="daWin_"+d;objPad.style.zIndex=this.dwDefzIndex+d;objPad.innerHTML=['<table id="dw_body_',d,'" class="dwBody" cellpadding="0" cellspacing="0">','<thead id="dw_thead_',d,'">','<tr>','<td id="dw_bodytl_',d,'" class="tl"></td>','<td id="dw_bodytl2_',d,'" class="tl2"></td>','<td id="dw_bodytop_',d,'" class="top">','<table style="width:100%; height:34px;" cellpadding="0" cellspacing="0">','<tr>','<td >','<div style="position:relative; height:34px;">','<div class="dwCaplight"></div>','<div id="dw_caption_',d,'" class="dwCaption"></div>','</div>','</td>','<td style="width:60px">','<a id="dw_btmin_',d,'" href="javascript:void(0)" class="btmin" title="最小化"></a>','<a id="dw_btmax_',d,'" href="javascript:void(0)" class="btmax" title="窗口/最大化"></a>','<a id="dw_btclose_',d,'" href="javascript:void(0)" class="btclose" title="关闭"></a>','</td>','</tr>','</table>','</td>','<td id="dw_bodytr2_',d,'" class="tr2"></td>','<td id="dw_bodytr_',d,'" class="tr"></td>','</tr>','</thead>','<tbody id="dw_tbody_',d,'">','<tr>','<td id="dw_bodyleft_',d,'" class="left"></td>','<td id="dw_cnt_',d,'" class="mid" colspan="3">','<div id="dw_cntbox_',d,'" style="position:relative; overflow:hidden;">','<iframe id="dw_iframe_',d,'" frameborder="0" style="background:#f7f7f7;"></iframe>','<div id="dw_dialog_',d,'" class="dwDialog" ></div>','<div id="dw_loadover_',d,'" class="dwLoadover"></div>','</div>','</td>','<td id="dw_bodyright_',d,'" class="right"></td>','</tr>','</tbody>','<tfoot id="dw_tfoot_',d,'">','<tr>','<td id="dw_bodybl_',d,'" class="bl"></td>','<td id="dw_bodybl2_',d,'" class="bl2"></td>','<td id="dw_bodybottom_',d,'" class="bottom" style="position:relative;">','<div style="position:relative; height:32px;">','<div id="dw_status_',d,'" class="dwStatusInfo"></div>','<div id="dw_statusbts_',d,'" class="dwStatusBts">','<a id="dw_btfresh_',d,'" href="javascript:void(0)" class="btfresh" title="刷新"></a>','</div>','</div>','</td>','<td id="dw_bodybr2_',d,'" class="br2"></td>','<td id="dw_bodybr_',d,'" class="br"></td>','</tr>','</tfoot>','</table>'].join('');this.dwParent.insertBefore(objPad);this.dwPad=objPad;if(da.fnStruct.bgiframe)da(this.dwPad).bgiframe();objPad=null;this.dwBody=p.getElementById("dw_body_"+d);this.dwTHead=p.getElementById("dw_thead_"+d);this.dwTBody=p.getElementById("dw_tbody_"+d);this.dwTFoot=p.getElementById("dw_tfoot_"+d);this.dwCaption=p.getElementById("dw_caption_"+d);this.dwCnt=p.getElementById("dw_cnt_"+d);this.dwCntBox=p.getElementById("dw_cntbox_"+d);this.dwIframe=p.getElementById("dw_iframe_"+d);this.dwDialog=p.getElementById("dw_dialog_"+d);this.dwLoadover=p.getElementById("dw_loadover_"+d);this.dwStatus=p.getElementById("dw_status_"+d);this.dwBts.btmin=p.getElementById("dw_btmin_"+d);this.dwBts.btmax=p.getElementById("dw_btmax_"+d);this.dwBts.btclose=p.getElementById("dw_btclose_"+d);this.dwStatusBts.fresh=p.getElementById("dw_btfresh_"+d);this.dwBorder.tl=p.getElementById("dw_bodytl_"+d);this.dwBorder.tl2=p.getElementById("dw_bodytl2_"+d);this.dwBorder.t=p.getElementById("dw_bodytop_"+d);this.dwBorder.tr2=p.getElementById("dw_bodytr2_"+d);this.dwBorder.tr=p.getElementById("dw_bodytr_"+d);this.dwBorder.l=p.getElementById("dw_bodyleft_"+d);this.dwBorder.r=p.getElementById("dw_bodyright_"+d);this.dwBorder.bl=p.getElementById("dw_bodybl_"+d);this.dwBorder.bl2=p.getElementById("dw_bodybl2_"+d);this.dwBorder.b=p.getElementById("dw_bodybottom_"+d);this.dwBorder.br2=p.getElementById("dw_bodybr2_"+d);this.dwBorder.br=p.getElementById("dw_bodybr_"+d);if(this.isDialog)this.dwStatusBts.fresh.style.visibility=this.dwBts.btmin.style.visibility=this.dwBts.btmax.style.visibility="hidden";else{this.dwBorder.tl.style.cursor="nw-resize";this.dwBorder.tl2.style.cursor="nw-resize";this.dwBorder.t.style.cursor="n-resize";this.dwBorder.tr2.style.cursor="ne-resize";this.dwBorder.tr.style.cursor="ne-resize";this.dwBorder.l.style.cursor="w-resize";this.dwBorder.r.style.cursor="e-resize";this.dwBorder.bl.style.cursor="sw-resize";this.dwBorder.bl2.style.cursor="sw-resize";this.dwBorder.b.style.cursor="s-resize";this.dwBorder.br2.style.cursor="se-resize";this.dwBorder.br=p.getElementById("dw_bodybr_"+d)}this.bindEvent();this.setTitle(c);if(null===this.dwSize.left)this.dwSize.left=(da(o).width()-this.dwSize.w)/2;if(null===this.dwSize.top)this.dwSize.top=(da(o).height()-this.dwSize.h)/2;if(null===this.dwSize.right)this.dwSize.right="auto";if(null===this.dwSize.bottom)this.dwSize.bottom="auto";if(this.isDialog){this.setCnt(c)}else this.hideCnt();if(!c.act){this.setSize(this.dwSize.w,this.dwSize.h);this.setPos((da(o).height()-this.dwSize.h)/2,this.dwSize.right,this.dwSize.bottom,(da(o).width()-this.dwSize.w)/2);if(!this.isDialog){this.setCnt(c);this.showCnt()}}else if(c.act&&"image"!=c.type){var e=this,nowSize={w:null,h:null};this.setSize(0,0);this.setPos(c.place.top,null,null,c.place.left);da(this.dwPad).act({top:(da(o).height()-this.dwSize.h)/2,left:(da(o).width()-this.dwSize.w)/2,width:this.dwSize.w,height:this.dwSize.h},{duration:c.time,easing:c.easing,step:function(a,b){if(null===nowSize.w||null===nowSize.h){if("width"===b.prop)nowSize.w=a;if("height"===b.prop)nowSize.h=a}else{e.setSize(nowSize.w,nowSize.h);nowSize.w=null;nowSize.h=null}},complete:function(){e.setSize(e.dwSize.w,e.dwSize.h);if(!e.isDialog){e.setCnt(c);e.showCnt()}nowSize=null}})}m.pushCache(this);this.setActive()},bindEvent:function(){var h=this;da(this.dwBts.btclose).bind("click",function(a){h.close();a.stopPropagation()}).bind("mousedown dblclick",function(a){a.stopPropagation()});da(this.dwPad).bind("click",function(a){if(!h.isActiving)h.setActive()});daDrag({window:o,src:this.dwBorder.t,target:this.dwPad,before:function(){da.daMaskShow(o,1);h.setActive();if(!h.isDialog&&"none"==h.dwLoadover.style.display)h.dwLoadover.style.display="block"},move:function(a,b,c,d,e,f,g){if(0>e.y)e.y=0},after:function(){if(!h.setting.modal)da.daMaskHide(o);if(!h.isDialog&&!h.isLoading)h.dwLoadover.style.display="none";h.dwSize.top=h.dwPad.offsetTop;h.dwSize.left=h.dwPad.offsetLeft}});if(this.isDialog)return;da(this.dwBts.btmin).bind("click",function(a){this.blur();h.min()}).bind("mousedown dblclick",function(a){a.stopPropagation()});var i=function(a){this.blur();if("normal"===h.sizeMode)h.max();else if("min"===h.sizeMode||"max"===h.sizeMode)h.normal()};da(this.dwBorder.t).bind("dblclick",i);da(this.dwBts.btmax).bind("click",i).bind("mousedown dblclick",function(a){a.stopPropagation()});da(this.dwStatusBts.fresh).bind("click",function(a){if(h.daFrameObj)h.daFrameObj.refresh()}).bind("mousedown dblclick",function(a){a.stopPropagation()});this.dragSize(this.dwBorder.br2);this.dragSize(this.dwBorder.br);this.dragSize(this.dwBorder.l,true);this.dragSize(this.dwBorder.r);this.dragSize(this.dwBorder.b)},normal:function(){m.popDock(this);if(null===this.dwSize.right)this.dwSize.right="auto";if(null===this.dwSize.bottom)this.dwSize.bottom="auto";this.dwBts.btmax.className="btmax";this.sizeMode="normal";this.showCnt();if(this.setting.act){var c=this,nowPos={l:null,t:null},nowSize={w:null,h:null};c.setPos(da(this.dwPad).offset().top,null,null,da(this.dwPad).offset().left);da(this.dwPad).stop().act({top:this.dwSize.top,left:this.dwSize.left,width:this.dwSize.w,height:this.dwSize.h},{duration:c.setting.time,easing:c.setting.easing,step:function(a,b){if(null===nowPos.l||null===nowPos.t){if("left"===b.prop)nowPos.l=a;if("top"===b.prop)nowPos.t=a}else{c.setPos(nowPos.t,null,null,nowPos.l);nowPos={l:null,t:null}}if(null===nowSize.w||null===nowSize.h){if("width"===b.prop)nowSize.w=a;if("height"===b.prop)nowSize.h=a}else{c.setSize(nowSize.w,nowSize.h);nowSize={w:null,h:null}}}})}else{this.setPos(this.dwSize.top,null,null,this.dwSize.left);this.setSize(this.dwSize.w,this.dwSize.h)}},min:function(){m.pushDock(this);this.dwBts.btmax.className="btnormal";this.sizeMode="min"},max:function(){m.popDock(this);var c=da(o),winWidth=parseInt(c.width(),10)||0,winHeight=parseInt(c.height(),10)||0;this.dwBts.btmax.className="btnormal";this.sizeMode="max";if(this.setting.act){var d=this,nowPos={l:null,t:null},nowSize={w:null,h:null};da(this.dwPad).act({top:0,left:0,width:winWidth,height:winHeight},{duration:d.setting.time,easing:d.setting.easing,step:function(a,b){if(null===nowPos.l||null===nowPos.t){if("left"===b.prop)nowPos.l=a;if("top"===b.prop)nowPos.t=a}else{d.setPos(nowPos.t,null,null,nowPos.l);nowPos={l:null,t:null}}if(null===nowSize.w||null===nowSize.h){if("width"===b.prop)nowSize.w=a;if("height"===b.prop)nowSize.h=a}else{d.setSize(nowSize.w,nowSize.h);nowSize={w:null,h:null}}},complete:function(){d.setPos(0,null,null,0);d.setSize(winWidth,winHeight)}})}else{this.setPos(0,null,null,0);this.setSize(winWidth,winHeight)}},release:function(){daDrag.unbind(this.dwBorder.t);this.unDragSize(this.dwBorder.br2);this.unDragSize(this.dwBorder.br);this.unDragSize(this.dwBorder.l);this.unDragSize(this.dwBorder.r);this.unDragSize(this.dwBorder.b);da(this.dwBts.btmin).remove();da(this.dwBts.btmax).remove();da(this.dwBts.btclose).remove();da(this.dwBorder.tl).remove();da(this.dwBorder.tl2).remove();da(this.dwBorder.t).remove();da(this.dwBorder.tr2).remove();da(this.dwBorder.tr).remove();da(this.dwBorder.l).remove();da(this.dwBorder.r).remove();da(this.dwBorder.bl).remove();da(this.dwBorder.bl2).remove();da(this.dwBorder.b).remove();da(this.dwBorder.br2).remove();da(this.dwBorder.br).remove();da(this.dwStatusBts.btfresh).remove();da(this.dwStatus).remove();da(this.dwLoadover).remove();for(var i=0,len=this.dwDlgBts.length;i<len;i++){da(this.dwDlgBts[i]).remove()}da(this.dwDialog).remove();da(this.dwIframe).remove();da(this.dwCntBox).remove();da(this.dwCnt).remove();da(this.dwCaption).remove();da(this.dwTFoot).remove();da(this.dwTBody).remove();da(this.dwTHead).remove();da(this.dwBody).remove();da(this.dwPad).remove();this.dwCssSize=null;this.setting.css=null;this.setting=null;this.dwParent=null;this.dwPad=null;this.dwBody=null;this.dwTHead=null;this.dwTBody=null;this.dwTFoot=null;this.dwCaption=null;this.dwCnt=null;this.dwCntBox=null;this.dwIframe=null;this.dwDialog=null;for(var i=0,len=this.dwDlgBts.length;i<len;i++){this.dwDlgBts[i]=null}this.dwDlgBts=null;this.daFrameObj=null;this.insideWinObj=null;this.dwStatus=null;this.dwLoadover=null;this.dwBts.btmin=null;this.dwBts.btmax=null;this.dwBts.btclose=null;this.dwBts=null;this.dwStatusBts.btfresh=null;this.dwStatusBts=null;this.dwBorder.tl=null;this.dwBorder.tl2=null;this.dwBorder.t=null;this.dwBorder.tr2=null;this.dwBorder.tr=null;this.dwBorder.l=null;this.dwBorder.r=null;this.dwBorder.bl=null;this.dwBorder.bl2=null;this.dwBorder.b=null;this.dwBorder.br2=null;this.dwBorder.br=null;this.dwBorder=null;this.dwSize=null},close:function(c,d){if(this.isReleased)return;this.isReleased=true;this.hideCnt();var f=function(){if(this.setting.modal)da.daMaskHide(o);if(this.setting.after)this.setting.after.apply(this.insideWinObj);this.dwPad.style.display="none";m.popCache(this);var a=o.dwArrCache.length;if(0<a){o.dwArrCache[a-1].daWin.setActive()}if(this.daFrameObj)this.daFrameObj.remove();this.release();if(this.focusElement){try{this.focusElement.focus()}catch(e){document.activeElement.focus()}this.focusElement=null}if(d)d()};if(!c&&this.setting.act){var g=this,nowPos={l:null,t:null},nowSize={w:null,h:null};da(this.dwPad).stop().act({top:g.setting.place.top,left:g.setting.place.left,width:g.dwCssSize.win_w,height:g.dwCssSize.win_h},{duration:g.setting.time,easing:g.setting.easing,step:function(a,b){if(null===nowPos.l||null===nowPos.t){if("left"===b.prop)nowPos.l=a;if("top"===b.prop)nowPos.t=a}else{g.setPos(nowPos.t,null,null,nowPos.l);nowPos={l:null,t:null}}if(null===nowSize.w||null===nowSize.h){if("width"===b.prop)nowSize.w=a;if("height"===b.prop)nowSize.h=a}else{g.setSize(nowSize.w,nowSize.h);nowSize={w:null,h:null}}},complete:function(){f.call(g)}})}else{f.call(this)}},dragSize:function(d,e){var f=this;var g=false;var h={x:0,y:0};var i={x:0,y:0};var j={x:0,y:0};var k={w:0,h:0};d.dsMouseDown=function(a){if(o.captureEvents)o.captureEvents(a.MOUSEMOVE);else if(d.setCapture)d.setCapture();da.daMaskShow(o,1);f.setActive();if(!f.isDialog&&"none"==f.dwLoadover.style.display)f.dwLoadover.style.display="block";k={w:f.dwPad.offsetWidth,h:f.dwPad.offsetHeight,top:f.dwPad.offsetTop,left:f.dwPad.offsetLeft};h={x:a.clientX,y:a.clientY};g=true};d.dsMouseMove=function(a){if(g){i={x:a.clientX,y:a.clientY};var b={w:(i.x-h.x),h:(i.y-h.y)};f.dwSize.w=(!e)?(k.w+b.w):(k.w-b.w);f.dwSize.h=(k.h+b.h);var c={top:(!e)?(k.top+b.h):(k.top-b.h),left:(!e)?(k.left+b.w):(k.left-b.w)};if(e){f.setPos(f.dwSize.top,null,null,i.x);f.setSize(f.dwSize.w,f.dwSize.h)}else{f.setSize(f.dwSize.w,f.dwSize.h)}if(o.getSelection)o.getSelection().removeAllRanges();else if(p.getSelection)p.getSelection().removeAllRanges();else p.selection.empty()}};d.dsMouseUp=function(a){if(g){if(o.releaseEvents)o.releaseEvents(a.MOUSEMOVE);else if(d.releaseCapture)d.releaseCapture();if(!f.setting.modal)da.daMaskHide(o);if(!f.isDialog&&!f.isLoading)f.dwLoadover.style.display="none";g=false}};da(d).bind("mousedown",d.dsMouseDown);da(p).bind("mousemove",d.dsMouseMove).bind("mouseup",d.dsMouseUp)},unDragSize:function(a){if(a.dsMouseDown)da(a).unbind("mousedown",a.dsMouseDown);if(a.dsMouseDown)da(p).unbind("mousemove",a.dsMouseMove);if(a.dsMouseDown)da(p).unbind("mouseup",a.dsMouseUp);a.dsMouseDown=null;a.dsMouseMove=null;a.dsMouseUp=null},setActive:function(){var a=o.dwArrCache;m.popCache(this);m.pushCache(this);for(var b=0,len=a.length-1;b<len;b++){a[b].daWin.dwPad.style.zIndex=this.dwDefzIndex+b;a[b].daWin.dwBody.className="dwBody2";a[b].daWin.isActiving=false;if("none"==a[b].daWin.dwLoadover.style.display)a[b].daWin.dwLoadover.style.display="block"}this.dwPad.style.zIndex=this.dwActzIndex;this.dwBody.className="dwBody";this.isActiving=true;if(this.setting.modal)da.daMaskShow(o,70);if(this.isDialog||!this.isLoading)this.dwLoadover.style.display="none";try{if(0<this.dwDlgBts.length)this.dwDlgBts[this.dwDlgBts.length-1].focus()}catch(e){}},parseSize:function(a){if("number"==typeof a){return a}else if("string"==typeof a){a=a.replace("px","");var b=a.match(/[\^＾＜<vV>＞=＝]/g);if(null==b)return da.isNull(parseInt(a),0);a=a.replace(/[\^＾＜<vV>＞=＝]/g,"");return da.isNull(parseInt(a),0)}},setSize:function(a,b){var c=this.dwCssSize;var d=(c.t_h+c.b_h),LandR_w=(c.l_w+c.r_w),Tborder2_w=(c.l2_w+c.r2_w),Tborder_w=Tborder2_w+(c.l_w+c.r_w),captionWidth=(a-Tborder_w-c.bts_w),topWidth=(a-Tborder_w),iframeWidth=a-LandR_w,iframeHeight=b-d,minTop=(c.cap_w+c.bts_w);minFrame=(c.cap_w+c.bts_w+c.l2_w+c.r2_w);minWidth=(minFrame+LandR_w);captionWidth=(c.cap_w<captionWidth)?captionWidth:c.cap_w,topWidth=(minTop<topWidth)?topWidth:minTop,iframeWidth=(minFrame<iframeWidth)?iframeWidth:minFrame,iframeHeight=0<iframeHeight?iframeHeight:0,dialogWidth=iframeWidth-("image"!=this.setting.type?c.dialog_padding:0),dialogHeight=iframeHeight;a=(minWidth<a)?a:minWidth;b=(d<b)?b:d;this.dwPad.style.width=a+"px";this.dwPad.style.height=b+"px";this.dwBody.style.width=a+"px";this.dwBody.style.height=b+"px";this.dwCaption.style.width=captionWidth+"px";this.dwStatus.style.width=captionWidth+"px";this.dwBorder.t.style.width=topWidth+"px";this.dwCnt.style.width=iframeWidth+"px";this.dwCnt.style.height=iframeHeight+"px";this.dwIframe.style.width=iframeWidth+"px";this.dwIframe.style.height=iframeHeight+"px";this.dwLoadover.style.width=(iframeWidth+50)+"px";this.dwLoadover.style.height=(iframeHeight+50)+"px";this.dwDialog.style.width=dialogWidth+"px";this.dwDialog.style.height=dialogHeight+"px";if(this.daFrameObj)this.daFrameObj.setSize(iframeWidth,iframeHeight)},setPos:function(a,b,c,d){this.dwPad.style.top=(null==da.isNull(a,null))?"auto":(("auto"==a)?a:(a+"px"));this.dwPad.style.left=(null==da.isNull(d,null))?"auto":(("auto"==d)?d:(d+"px"));this.dwPad.style.right=(null==da.isNull(b,null))?"auto":(("auto"==b)?b:(b+"px"));this.dwPad.style.bottom=(null==da.isNull(c,null))?"auto":(("auto"==c)?c:(c+"px"))},setTitle:function(a){if(null===this.dwIframe)return;var b=this.dwSize.w-(this.dwCssSize.l_w+this.dwCssSize.r_w+this.dwCssSize.l2_w+this.dwCssSize.r2_w);b=0>b?0:b;this.dwBorder.t.style.width=b+"px";this.dwCaption.innerHTML=(this.isDialog&&"image"!=a.type?'<div class="'+this.setting.type+'"></div>':'')+(da.isFunction(a.title)?a.title.call(this,this.dwCaption,this.dwBorder.t):a.title)},setCnt:function(c){if(null===this.dwDialog||null===this.dwIframe)return;var d=this.dwSize.w-(this.dwCssSize.l_w+this.dwCssSize.r_w),nHeight=this.dwSize.h-this.dwCssSize.win_h,dwIframe=this.dwIframe,dwDialog=this.dwDialog,dwDlgBts=this.dwDlgBts,context=this;d=0>d?0:d;nHeight=0>nHeight?0:nHeight;if(this.isDialog){dwIframe.style.display="none";if(da.isArray(c.html)){this.imagesList=c.html;c.html=""}dwDialog.innerHTML=c.html;var e=p.createElement("div"),button=this.setting.button,btObj;e.className="daWinBtBar";dwDialog.insertBefore(e,null);if(null!==button){for(var f in button){btObj=p.createElement("a"),btObj.className="daWinBt";btObj.href="javascript:void(0)";btObj.innerHTML=['<div class="l"></div>','<div class="txt">',f,'</div>','<div class="r"></div>'].join("");(function(b){da(btObj).bind("click",function(a){if(da.isFunction(button[b]))button[b].call(this,context,a);a.stopPropagation()})})(f);e.insertBefore(btObj,null);dwDlgBts.push(btObj)}}else{this[this.setting.type](e)}var g=this.dwCssSize,TandB_h=(g.t_h+g.b_h),LandR_w=(g.l_w+g.r_w);this.dwSize.w=(0===this.dwSize.w)?da(dwDialog).width()+LandR_w:this.dwSize.w;this.dwSize.h=(0===this.dwSize.h)?da(dwDialog).height()+TandB_h:this.dwSize.h}else{dwDialog.style.display="none";dwIframe.style.display="none";this.isLoading=true;this.setStatus("正在加载..");this.daFrameObj=daFrame({window:o,width:d,height:nHeight,parent:dwIframe.parentNode,border:"0px",url:c.url,load:function(){context.isLoading=false;context.setStatus("完成！");if(context.isActiving)context.dwLoadover.style.display="none";context.insideWinObj=this;if(context.setting.load)context.setting.load.apply(this,arguments)},back:function(){if(context.setting.back)context.setting.back.apply(this,arguments);if(context.setting.backclose)context.close()},close:function(){context.close()},unload:function(){}});this.dwLoadover.style.display="block";this.dwLoadover.style.width=d+"px";this.dwLoadover.style.height=nHeight+"px"}},info:function(b){var c=this,setting=this.setting,dwDlgBts=this.dwDlgBts,btObj;btObj=p.createElement("a");btObj.className="daWinBt";btObj.href="javascript:void(0)";btObj.innerHTML=['<div class="l"></div>','<div class="txt">确&nbsp;定 (Y)</div>','<div class="r"></div>'].join("");da(btObj).bind("click",function(a){c.close(false,function(){try{if(da.isFunction(setting.yes))setting.yes.call(this,c,a)}catch(e){}});a.stopPropagation()});b.insertBefore(btObj,null);dwDlgBts.push(btObj)},confirm:function(b){var c=this,setting=this.setting,dwDlgBts=this.dwDlgBts,btObj;this.info(b);btObj=p.createElement("a");btObj.className="daWinBt";btObj.href="javascript:void(0)";btObj.innerHTML=['<div class="l"></div>','<div class="txt">取&nbsp;消 (N)</div>','<div class="r"></div>'].join("");da(btObj).bind("click",function(a){c.close(false,function(){try{if(da.isFunction(setting.no))setting.no.call(this,c,a)}catch(e){}});a.stopPropagation()});b.insertBefore(btObj,null);dwDlgBts.push(btObj)},image:function(f){var g=this,setting=this.setting,dwDialog=this.dwDialog,dwDlgBts=this.dwDlgBts,imgList=this.imagesList,dataObj,imgContainer,imgObj,numObj,txtObj,preBtObj,nextBtObj,imgPadObj,imgIdx=0,btObj,playImageTimer=null;dwDialog.style.textAlign="center";dwDialog.style.padding="0";f.style.textAlign="left";imgContainer=p.createElement("div");imgContainer.style.cssText="position:relative;";dwDialog.insertBefore(imgContainer,f);imgObj=p.createElement("img");imgContainer.insertBefore(imgObj,null);if(1<imgList.length){btObj=p.createElement("a");btObj.title="自动播放",btObj.className="daWinBt";btObj.href="javascript:void(0)";btObj.innerHTML=['<div class="l"></div>','<div class="txt" style="font-family:webdings; font-size:18px;">4</div>','<div class="r"></div>'].join("");da(btObj).bind("click",function(){if("4"==this.children[1].innerHTML){this.children[1].innerHTML=";";k()}else{this.children[1].innerHTML="4";l()}});f.insertBefore(btObj,null);dwDlgBts.push(btObj);btObj=p.createElement("a");btObj.title="前一张",btObj.className="daWinBt";btObj.href="javascript:void(0)";btObj.innerHTML=['<div class="l"></div>','<div class="txt" style="font-family:webdings">7</div>','<div class="r"></div>'].join("");da(btObj).bind("click",function(){j(imgIdx-1)});f.insertBefore(btObj,null);dwDlgBts.push(btObj);btObj=p.createElement("a");btObj.title="图片列表",btObj.className="daWinBt";btObj.href="javascript:void(0)";btObj.innerHTML=['<div class="l"></div>','<div class="txt" style="font-size:18px;">&#9636;</div>','<div class="r"></div>'].join("");da(btObj).bind("click",function(){if("none"==imgPadObj.style.display)da(imgPadObj).show(300);else da(imgPadObj).hide(300)});f.insertBefore(btObj,null);dwDlgBts.push(btObj);btObj=p.createElement("a");btObj.title="下一张",btObj.className="daWinBt";btObj.href="javascript:void(0)";btObj.innerHTML=['<div class="l"></div>','<div class="txt" style="font-family:webdings">8</div>','<div class="r"></div>'].join("");da(btObj).bind("click",function(){j(imgIdx+1)});f.insertBefore(btObj,null);dwDlgBts.push(btObj);preBtObj=p.createElement("div");preBtObj.className="preBt";imgContainer.insertBefore(preBtObj,null);nextBtObj=p.createElement("div");nextBtObj.className="nextBt";imgContainer.insertBefore(nextBtObj,null);btObj=p.createElement("div");btObj.title="点击看前一张",btObj.className="imgHotZone pre";da(btObj).bind("click",function(){j(imgIdx-1)}).bind("mouseover",function(){if(0<imgIdx)preBtObj.style.display="block"}).bind("mouseout",function(){preBtObj.style.display="none"});imgContainer.insertBefore(btObj,null);btObj=p.createElement("div");btObj.title="点击看下一张",btObj.className="imgHotZone next";da(btObj).bind("click",function(){j(imgIdx+1)}).bind("mouseover",function(){if(imgList.length-1>imgIdx)nextBtObj.style.display="block"}).bind("mouseout",function(){nextBtObj.style.display="none"});imgContainer.insertBefore(btObj,null);imgPadObj=p.createElement("div");imgPadObj.style.cssText="display:none;position:absolute;left:0px;bottom:0px;width:100%;margin:5px 0px;";imgContainer.insertBefore(imgPadObj,null);var h=[];for(var i=0,len=imgList.length;i<len;i++){h=imgList[i].split('|');btObj=p.createElement("img");btObj.id="daWin_ImgPadList_"+i;btObj.src=h[0];btObj.title=h[1]||"";btObj.style.cssText="float:left;width:50px;height:30px;margin:5px 5px;border:2px solid #888;cursor:pointer;";(function(a,b){da(a).bind("click",function(){j(b)})})(btObj,i);imgPadObj.insertBefore(btObj,null)}numObj=p.createElement("span");numObj.style.cssText="line-height:22px; font-family:Arial; font-size: 12px; font-style:italic; vertical-align:top; margin-left:10px;";numObj.innerHTML=(imgIdx+1);f.insertBefore(numObj,null);btObj=p.createElement("span");btObj.style.cssText="line-height:22px; font-family:Arial; font-size: 12px; font-style:italic; vertical-align:top; margin-right:10px;";btObj.innerHTML="&nbsp;/&nbsp;"+imgList.length;f.insertBefore(btObj,null);txtObj=p.createElement("span");txtObj.style.cssText="line-height:22px; font-size: 14px; color:#222; font-weight:bold; vertical-align:top; margin:0px 10px;";f.insertBefore(txtObj,null);da(p).bind("keydown",function(a){switch(a.keyCode){case 37:j(imgIdx-1);break;case 38:imgPadObj.style.display="block";break;case 39:j(imgIdx+1);break;case 40:imgPadObj.style.display="none";break}})}var j=function(e){if(0>e||imgList.length<=e)return;dataObj=imgList[e].split("|");g.setStatus("图片加载中...");da.loadImage(dataObj[0],function(){g.setStatus("");imgObj.src=this.src;var c={w:da(o).width(),h:da(o).height()},borderHeight=(1==imgList.length)?66:100;boxSize={w:this.width+20,h:(this.height+borderHeight)},boxPos={l:null,t:null},nowPos={l:null,t:null},nowSize={w:null,h:null};if(c.w<boxSize.w||c.h<boxSize.h){var d=boxSize.w/boxSize.h,nWidth=boxSize.w-c.w,nHeight=boxSize.h-c.h;if(nWidth>nHeight){boxSize.w=c.w-10;boxSize.h=parseInt(boxSize.w/d)}else{boxSize.h=c.h-10;boxSize.w=parseInt(d*boxSize.h)}}boxPos={l:(c.w-boxSize.w)/2,t:(c.h-boxSize.h)/2};if(g.setting.act){da(g.dwPad).clearQueue();da(g.dwPad).act({top:boxPos.t,left:boxPos.l,width:boxSize.w,height:boxSize.h},{duration:setting.time,easing:setting.easing,step:function(a,b){if(null===nowPos.l||null===nowPos.t){if("left"===b.prop)nowPos.l=a;if("top"===b.prop)nowPos.t=a}else{g.setPos(nowPos.t,null,null,nowPos.l);nowPos={l:null,t:null}}if(null===nowSize.w||null===nowSize.h){if("width"===b.prop)nowSize.w=a;if("height"===b.prop)nowSize.h=a}else{g.setSize(nowSize.w,nowSize.h);g.dwSize.w=nowSize.w;g.dwSize.h=nowSize.h;nowSize={w:null,h:null}}}});da(imgContainer).act({width:boxSize.w-20,height:boxSize.h-borderHeight},{duration:setting.time,easing:setting.easing,step:function(a,b){if("width"===b.prop)imgContainer.style.width=imgObj.style.width=a+"px";if("height"===b.prop)imgContainer.style.height=imgObj.style.height=a+"px"}})}else{imgContainer.style.width=imgObj.style.width=this.width+"px";imgContainer.style.height=imgObj.style.height=this.height+"px";g.setSize(boxSize.w,boxSize.h);g.setPos(boxPos.t,null,null,boxPos.l)}});if(1<imgList.length){p.getElementById("daWin_ImgPadList_"+imgIdx).style.border="2px solid #333";p.getElementById("daWin_ImgPadList_"+e).style.border="2px solid #fff";numObj.innerHTML=(e+1);txtObj.innerHTML=dataObj[1]||"";imgIdx=e}};var k=function(){l();playImageTimer=setInterval(function(){if(imgList.length-1<=imgIdx){j(0)}else j(imgIdx+1)},3800)};var l=function(){clearInterval(playImageTimer);playImageTimer=null};g.setSize(0,0);g.setPos(setting.place.top,null,null,setting.place.left);j(0)},hideCnt:function(){this.dwCntBox.style.display="none"},showCnt:function(){if(this.setting.act)da(this.dwCntBox).fadeIn(300);else this.dwCntBox.style.display="block"},setStatus:function(a){this.dwStatus.innerHTML=(this.setting.status||a)}};m.fnStruct.init.prototype=m.fnStruct;m.pushCache=function(a){var b={id:a.dwId,daWin:a};o.dwArrCache.push(b);self.dwOpenList.push(b);return b};m.popCache=function(a,b){var c=o.dwArrCache,openList=self.dwOpenList,id=a.dwId,res=null,i,n;for(i=0,len=c.length;i<len;i++){if(id===c[i].id){res=c[i];if(b)return res;c.splice(i,1);break}}for(n=0,len2=openList.length;n<len2;n++){if(id===openList[n].id){openList.splice(n,1);break}}return res};m.pushDock=function(a){var b=o.dwDockCache;for(var c in b){if(a.dwId===b[c].id)return}var d={id:a.dwId,daWin:a};m.setDock(a,b.length);b.push(d);return d};m.popDock=function(a){var b=o.dwDockCache;var c=a.dwId;var d=null;for(var e in b){if(c===b[e].id){d=b[e];c=e;b.splice(e,1);break}}for(var e=c,len=b.length;e<len;e++)m.setDock(b[e].daWin,e);return d};m.setDock=function(c,d){d=d||0;c.hideCnt();if(c.setting.act){var e=c,nowPos={l:null,t:null},nowSize={w:null,h:null};da(e.dwPad).stop().act({top:da(o).height()-e.dwCssSize.win_h,left:(d*c.dwCssSize.win_w),width:e.dwCssSize.win_w,height:e.dwCssSize.win_h},{duration:e.setting.time,easing:e.setting.easing,step:function(a,b){if(null===nowPos.l||null===nowPos.b){if("left"===b.prop)nowPos.l=a;if("top"===b.prop)nowPos.t=a}else{e.setPos(nowPos.t,null,null,nowPos.l);nowPos={l:null,t:null}}if(null===nowSize.w||null===nowSize.h){if("width"===b.prop)nowSize.w=a;if("height"===b.prop)nowSize.h=a}else{e.setSize(nowSize.w,nowSize.h);nowSize={w:null,h:null}}},complete:function(){}})}else{c.setSize(0,c.dwCssSize.win_h);c.setPos("","",0,(d*c.dwCssSize.win_w))}};m.closeChild=function(){var a=o.dwArrCache,openList=self.dwOpenList;for(var i=openList.length-1;0<=i;i--){openList[i].daWin.close(true)}};return m})();da(self).bind("unload",function(){q.closeChild()});o.daWin=q})(window);function info(a,b){daWin({html:a,yes:b})}function warn(a,b){daWin({type:"warn",html:a,yes:b})}function error(a,b){daWin({type:"error",html:a,yes:b})}function confirm(a,b,c){daWin({type:"confirm",html:a,yes:b,no:c})}function input(a,b,c){daWin({type:"confirm",html:a,yes:b,no:c})}function dialog(a,b,c,d,e,f,g,h,i){daWin({width:a,height:b,title:d,url:c,load:e,after:g,back:f})};function dialog2(a,b,c,d,e,f,g,h,i){daWin({width:a,height:b,title:d,url:c,modal:true,load:e,after:g,back:f})};