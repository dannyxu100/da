/*
	author:	danny.xu
	date:	2010-10-29
	description:	daLoading类脚本文件
*/
(function(c){var d=c.document;var e=function(a){return new e.fnStruct.init(a)};e.fnStruct=e.prototype={version:"daLoading 1.0  \n\nauthor: danny.xu\n\ndate: 2010-10-29\n\nThank you!!!",dlId:0,dlParent:null,dlBody:null,dlBox:null,dlFlow:null,dlText:null,isFinished:false,isRemoved:false,setting:{window:c,parent:null,click:null,border:null,left:"",top:"",text:"正在加载..",type:"auto"},init:function(a){a=this.setting=da.extend(true,{},this.setting,a);c=a.window;d=c.document;var b=a.parent;if("string"==typeof b)b=d.getElementById(b);this.dlParent=b||d.body;this.dlId=da.nowId();this.create();this.bindEvent();return this},create:function(){var a=this.dlId;var b=d.createElement("div");b.id="daLoading_"+a;b.className="dl_body";if(null!==this.setting.border)b.style.border=this.setting.border;b.title="温馨提示：点击隐藏";b.innerHTML=['<div id="dl_text_'+a+'" class="dl_text"></div>','<div id="dl_barbox_'+a+'"  class="dl_barbox">','<div id="dl_barbg_'+a+'" class="dl_barbg"></div>','<div id="dl_barflow_'+a+'" class="dl_barflow"></div>','</div>'].join("");this.dlBody=b;this.dlParent.insertBefore(b,null);this.dlBox=d.getElementById("dl_barbox_"+a);this.dlFlow=d.getElementById("dl_barflow_"+a);this.dlText=d.getElementById("dl_text_"+a);this.dlBox.style.display="none";switch(this.setting.type){case"auto":this.dlText.innerHTML=e.talkArray[Math.floor(Math.random()*e.talkArray.length)];break;case"gif":this.dlBody.style.padding="0px";this.dlText.innerHTML='<div class="loadingGif" style="float:left;"></div><div style="float:left;padding:0px 5px;height:32px;line-height:32px;">'+this.setting.text+'</div>';break;case"percent":this.dlText.innerHTML="0%";this.isShowBar=true;this.dlBox.style.display="block";this.runto99();break;case"bar":this.dlText.style.display="none";this.isShowBar=true;this.dlBox.style.display="block";this.runto99();break;case"text":default:this.dlText.innerHTML=this.setting.text;break}if(!this.dlParent.style.position)this.dlParent.style.position="relative";this.dlBody.style.left=(this.setting.left)?this.setting.left:(this.dlParent.offsetWidth-this.dlBody.offsetWidth)/2+"px";this.dlBody.style.top=(this.setting.top)?this.setting.top:(this.dlParent.offsetHeight-this.dlBody.offsetHeight)/2+"px"},bindEvent:function(){var a=this.setting,context=this;da(this.dlBody).bind("click",function(){context.dlnum=100;context.isFinished=true;context.clear(true);if(a.click)a.click.call(context)})},runto99:function(){if(null==this.dlBody)return;if(99<=this.dlnum&&this.isFinished){this.clear();return}this.dlnum=this.dlFlow.offsetLeft;if(99>this.dlnum){this.dlFlow.style.left=(++this.dlnum)+"px";if("percent"===this.setting.type)this.dlText.innerHTML=this.dlnum+"%";var a=this;setTimeout(function(){a.runto99()},13)}},finished:function(){this.isFinished=true;if(99<=this.dlnum||!this.isShowBar)this.clear()},clear:function(a){if(!this.isRemoved){if(a)this.dlBody.style.display="none";else{this.dlParent.removeChild(this.dlBody);this.isRemoved=true}}}};e.talkArray=["加油！","Forever","喜欢它，那么享受它。","我相信您是最棒的！","嘿，伙计！","稍等一下下...","怎么又是你！？","大怪兽！","哥们儿，洗把脸吧。","快快快...","加速度120","简单才是硬道理","再看，就把你吃掉","哟，今天很性感嘛","创意无限","知识就是力量","亲，懂得珍惜","是你，是你，还是你","哭，不能解决问题","等待是挺烦的"];e.talkArray=["加油！","Forever","喜欢它，那么享受它。","我相信您是最棒的！","嘿，伙计！","稍等一下下...","怎么又是你！？","大怪兽！","哥们儿，洗把脸吧。","快快快...","加速度120","简单才是硬道理","再看，就把你吃掉","哟，今天很性感嘛","创意无限","知识就是力量","亲，懂得珍惜","是你，是你，还是你","哭，不能解决问题","等待是挺烦的","用诚心成事，以服务服人","聆听科技脉动，放眼世界改变","集团化、产业化、品牌化","简单做人、务实高效、诚信服务","力求客户满意，建立长期合作关系","用完美的产品打动客户,用周到的服务留住客户","专业专注，全心服务","创新感知互联，引领智慧科技","掌握科技脉搏，志成服务世界","智慧地理，汉默科技","罕见卓越，非你莫属","技术解决之道，汉默智慧创造","汉默地理，智行千里","汉默，借您一双慧眼看世界，助您激越智慧时代","因为有您，所以汉默存在"];e.fnStruct.init.prototype=e.prototype;c.daLoading=c.dl=e})(window);