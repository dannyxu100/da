/**daToolbar
*工具条（分组按钮）类
* @author danny.xu
* @version daToolbar v2.0 2012-4-26
*/
(function(f,g){var h=f.document;var i=(function(){var e=function(a){return new e.fnStruct.init(a)};e.fnStruct=e.prototype={version:"daToolbar v2.0 \n author: danny.xu \n date: 2012-4-26",parentObj:null,barObj:null,curObj:null,setting:{id:"",parent:null,css:{bar:"daToolbar ",item:"item ",hover:"hover ",cur:"current "},showCurrent:true},init:function(a){a=this.setting=da.extend({},this.setting,a);this.parentObj=da(a.parent);if(0<this.parentObj.dom.length){this.parentObj=this.parentObj.dom[0]}else{alert("温馨提示：daToolbar错误，找不到容器对象。");return null}this.create()},create:function(){var a=this.setting,barObj=document.createElement("ul");if(a.id)barObj.id=a.id;barObj.className=a.css.bar;this.barObj=barObj;this.parentObj.insertBefore(this.barObj,null)},appendItem:function(b){if(null==this.barObj)return;var c={id:"",html:"",data:null,select:false,click:null};b=da.extend({},c,b);if(!b.id)return;var d=this,setting=this.setting,itemObj=document.createElement("li");if(b.id)itemObj.id=b.id;itemObj.className=setting.css.item+(b.select?setting.css.cur:"");itemObj.innerHTML=b.html;if(b.data)da.data(itemObj,"daToolbar_itemData",b.data);da(itemObj).bind("mousedown",function(){if(setting.showCurrent){if(null!=d.curObj){d.curObj.className=d.curObj.className.replace(setting.css.cur,"")}var a=this.className;this.className=a+d.setting.css.cur;d.curObj=this}if(b.click&&da.isFunction(b.click))b.click()}).bind("mouseover",function(){var a=this.className;if(0>a.indexOf(d.setting.css.hover))this.className=a+d.setting.css.hover}).bind("mouseout",function(){var a=this.className;if(0<=a.indexOf(d.setting.css.hover))this.className=a.replace(d.setting.css.hover,"")});if(b.select)this.curObj=itemObj;this.barObj.insertBefore(itemObj,null)},select:function(a){if(a&&"string"==typeof a&&0>a.indexOf("#")){a="#"+a}da(a).mousedown();return{item:this.curObj,data:da.data(this.curObj,"daToolbar_itemData")}},removeItem:function(a){if(a&&"string"==typeof a&&0>a.indexOf("#")){a="#"+a}if(0<da(a).dom.length){var b=false;if(this.curObj==da(a).dom[0])b=true;da(a).remove();if(b){if(this.barObj.firstChild){da(this.barObj.firstChild).mousedown()}}}}};e.fnStruct.init.prototype=e.prototype;return e})();f.daToolbar=i})(window);
